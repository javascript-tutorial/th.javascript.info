# สวัสดี ชาวโลก!

ในส่วนนี้ของบทเรียน เราจะเริ่มศึกษาเกี่ยวกับพื้นฐานของภาษา JavaScript

แต่ก่อนอื่น เราต้องมีสภาพแวดล้อมที่พร้อมสำหรับการรันสคริปต์ และเนื่องจากหนังสือเล่มนี้อยู่บนออนไลน์ เบราว์เซอร์จึงเป็นตัวเลือกที่เหมาะสม เราจะพยายามจำกัดการใช้คำสั่งเฉพาะของเบราว์เซอร์ (เช่น `alert`) ให้น้อยที่สุด เพื่อที่คุณจะได้ไม่ต้องเสียเวลากับมันมากนัก หากคุณตั้งใจจะมุ่งเน้นการใช้ JavaScript ในสภาพแวดล้อมอื่นๆ เช่น Node.js ส่วนการใช้ JavaScript ในเบราว์เซอร์โดยเฉพาะจะมีกล่าวถึงในรายละเอียดใน[ส่วนถัดไป](/ui)ของบทเรียน

ดังนั้น ก่อนอื่นเรามาดูกันว่าจะแทรกสคริปต์ลงในหน้าเว็บได้อย่างไร ซึ่งหากเป็นสภาพแวดล้อมฝั่งเซิร์ฟเวอร์อย่าง Node.js เราสามารถรันสคริปต์โดยใช้คำสั่ง `"node my.js"` ได้เลย

## แท็ก "script"

โปรแกรม JavaScript สามารถแทรกลงในเอกสาร HTML ได้เกือบทุกที่ด้วยการใช้แท็ก `<script>`

ตัวอย่างเช่น:

```html run height=100
<!DOCTYPE HTML>
<html>

<body>

  <p>ก่อนสคริปต์...</p>

*!*
  <script>
    alert( 'สวัสดี ชาวโลก!' );
  </script>
*/!*

  <p>...หลังสคริปต์</p>

</body>

</html>
```

```online
คุณสามารถลองรันตัวอย่างนี้ได้โดยคลิกที่ปุ่ม "เล่น" ที่มุมบนขวาของกล่องโค้ด
```

แท็ก `<script>` จะมีโค้ด JavaScript อยู่ข้างใน ซึ่งจะทำงานโดยอัตโนมัติเมื่อเบราว์เซอร์ประมวลผลถึงแท็กนี้

## Markup สมัยใหม่

แท็ก `<script>` มีแอตทริบิวต์บางอย่างที่ปัจจุบันไม่ค่อยใช้แล้ว แต่ยังพบเห็นได้ในโค้ดเก่าๆ:

แอตทริบิวต์ `type`: <code>&lt;script <u>type</u>=...&gt;</code>
: ในมาตรฐาน HTML เก่า (HTML4) สคริปต์จะต้องมีแอตทริบิวต์ `type` โดยปกติจะเป็น `type="text/javascript"` แต่ปัจจุบันไม่จำเป็นต้องระบุแล้ว อีกทั้งใน HTML มาตรฐานใหม่ ความหมายของแอตทริบิวต์นี้ก็เปลี่ยนไปอย่างสิ้นเชิง โดยตอนนี้ใช้ระบุโมดูล JavaScript แทน แต่นั่นเป็นหัวข้อขั้นสูง ซึ่งเราจะกล่าวถึงในส่วนอื่นของบทเรียน

แอตทริบิวต์ `language`: <code>&lt;script <u>language</u>=...&gt;</code>
: แอตทริบิวต์นี้เคยใช้เพื่อระบุภาษาของสคริปต์ แต่ปัจจุบันก็ไม่จำเป็นแล้วเช่นกัน เพราะ JavaScript เป็นภาษาเริ่มต้นอยู่แล้ว จึงไม่ต้องระบุก็ได้

คอมเมนต์ก่อนและหลังสคริปต์
: ในหนังสือและคู่มือเก่าๆ คุณอาจเจอคอมเมนต์ภายในแท็ก `<script>` แบบนี้:

    ```html no-beautify
    <script type="text/javascript"><!--
        ...
    //--></script>
    ```

    เทคนิคนี้ไม่ได้ใช้กันแล้วในยุค JavaScript สมัยใหม่ คอมเมนต์แบบนี้มีไว้เพื่อซ่อนโค้ด JavaScript จากเบราว์เซอร์รุ่นเก่ามากๆ ที่ไม่รู้จักวิธีประมวลผลแท็ก `<script>` แต่เบราว์เซอร์ที่ออกมาในช่วง 15 ปีหลังนี้ไม่มีปัญหาเรื่องนั้นแล้ว คอมเมนต์แบบนี้จึงช่วยให้คุณแยกแยะได้ว่าโค้ดนั้นเก่ามากแค่ไหน

## สคริปต์ภายนอก

หากเรามีโค้ด JavaScript จำนวนมาก เราสามารถนำมันไปไว้ในไฟล์แยกต่างหากได้

ไฟล์สคริปต์จะถูกแทรกเข้าไปใน HTML ด้วยแอตทริบิวต์ `src`:

```html
<script src="/path/to/script.js"></script>
```

ที่นี่ `/path/to/script.js` คือพาธเต็มไปยังไฟล์สคริปต์นับจากรากของเว็บไซต์ นอกจากนี้คุณยังสามารถระบุพาธสัมพัทธ์จากหน้าปัจจุบันก็ได้ เช่น `src="script.js"` หมายถึงไฟล์ `"script.js"` อยู่ในโฟลเดอร์เดียวกับหน้า HTML ส่วน `src="./script.js"` ก็จะหมายถึงไฟล์ `"script.js"` อยู่ในโฟลเดอร์ปัจจุบันเช่นกัน

เราสามารถระบุ URL แบบเต็มๆ ได้ด้วย เช่น:

```html
<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.11/lodash.js"></script>
```

ในการแทรกสคริปต์หลายไฟล์ ให้ใช้แท็กหลายอัน:

```html
<script src="/js/script1.js"></script>
<script src="/js/script2.js"></script>
…
```

```smart
โดยทั่วไป ในโค้ด HTML จะมีแต่สคริปต์ที่ไม่ซับซ้อนและสั้นๆ เท่านั้น ส่วนโค้ดที่ยาวและซับซ้อนกว่ามักจะแยกไปอยู่ในไฟล์อื่น

ข้อดีของการแยกสคริปต์ไปอยู่ในไฟล์ต่างหากคือ เบราว์เซอร์จะดาวน์โหลดไฟล์นั้นมาแล้วเก็บไว้ใน[แคช](https://en.wikipedia.org/wiki/Web_cache)

เมื่อหน้าอื่นๆ อ้างถึงสคริปต์ไฟล์เดียวกัน แทนที่จะดาวน์โหลดใหม่ มันจะเรียกใช้ไฟล์จากแคชแทน ทำให้ไฟล์นั้นถูกดาวน์โหลดจริงๆ เพียงแค่ครั้งเดียว

สิ่งนี้ช่วยลดปริมาณการรับส่งข้อมูลผ่านเครือข่าย ทำให้หน้าเว็บโหลดได้เร็วขึ้น
```

````warn header="ถ้าตั้งแอตทริบิวต์ `src` ไว้ เนื้อหาภายในแท็กจะถูกเพิกเฉย"
แท็ก `<script>` เดียวจะมีแอตทริบิวต์ `src` หรือมีโค้ดข้างในอย่างใดอย่างหนึ่งเท่านั้น ไม่สามารถมีทั้งคู่ได้

โค้ดแบบนี้จะไม่ทำงาน:

```html
<script *!*src*/!*="file.js">
  alert(1); // เนื้อหาข้างในจะถูกเพิกเฉย เพราะมีการตั้งค่า src
</script>
```

เราต้องเลือกใช้อย่างใดอย่างหนึ่ง: ไฟล์ภายนอกด้วย `<script src="…">` หรือใส่โค้ดข้างในแท็ก `<script>` ตรงๆ

ตัวอย่างข้างบนสามารถแยกเป็นสองแท็ก `<script>` เพื่อให้ทำงานได้:

```html
<script src="file.js"></script>
<script>
  alert(1);
</script>
```
````

## สรุป

- เราสามารถใช้แท็ก `<script>` เพื่อเพิ่มโค้ด JavaScript ลงในหน้าเว็บได้
- แอตทริบิวต์ `type` และ `language` ไม่จำเป็นต้องระบุแล้วในปัจจุบัน
- สคริปต์ในไฟล์ภายนอกสามารถแทรกเข้ามาได้โดยใช้ `<script src="path/to/script.js"></script>`

เรายังมีอะไรต้องเรียนรู้อีกมากเกี่ยวกับการใช้สคริปต์ในเบราว์เซอร์และการสื่อสารระหว่างสคริปต์กับหน้าเว็บ แต่อย่าลืมว่าส่วนนี้ของบทเรียนเราจะมุ่งเน้นที่ภาษา JavaScript เอง ดังนั้นเราควรพยายามไม่ออกนอกเรื่องมากเกินไป

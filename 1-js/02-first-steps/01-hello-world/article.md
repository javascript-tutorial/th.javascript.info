# Hello, world

ส่วนนี้เป็นบทสอนเกี่ยวกับหัวใจหลักของจาวาสคริปต์

แต่เราต้องเตรียมสภาพแวดล้อม (environment) ที่เหมาะสมแก่การทำงานสคริปต์ของเรากันก่อน แต่ด้วยความที่คู่มือฉบับนี้อยู่บนเว็บไซต์อยู่แล้ว ผู้เรียนจึงไม่มีความจำเป็นต้องจัดเตรียมสภาพแวดล้อมใดๆเลย เช่น Node.js ผู้เรียนสามารถสั่งสคริปต์ทำงานผ่านเบราเซอร์โดยตรง ก่อนจะนอกเรื่องกันเราจะกลับมาพูดถึงจาวาสคริปต์ที่ทำงานบนเบราเซอร์อีกทีใน[บทถัดไป]((/ui))

ก่อนอื่นเลย เรามาดูวิธีการแนบสคริปต์ไปบนเว็บเพจกันก่อน โดยที่สภาพแวดล้อมฝั่งเซิฟเวอร์ (อย่าง Node.js) เราสามารถสั่งสคริปต์ทำงานได้โดยการพิมพ์ว่า `"node my.js"` ในเทอร์มินัล

## ภายใต้แท็กสคริปต์

เราสามารถเขียนจาวาสคริปต์ไปบนส่วนใดก็ได้ในไฟล์ HTML โดยใช้แท็ก `<script>`

<<<<<<< HEAD
ตัวอย่าง:
=======
JavaScript programs can be inserted almost anywhere into an HTML document using the `<script>` tag.

For instance:
>>>>>>> 13da056653754765b50aa5a9f706f84a4a0d6293

```html run height=100
<!DOCTYPE HTML>
<html>

<body>

  <p>Before the script...</p>

*!*
  <script>
    alert( 'Hello, world!' );
  </script>
*/!*

  <p>...After the script.</p>

</body>

</html>
```

```online
เราสามารถสั่งสคริปต์นี้ทำงานได้โดยคลิกปุ่ม "play" ที่มุมขวาบน
```

เมื่อถึงคิวที่เบราเซอร์ประมวลผลในแท็กนี้ สคริปต์เหล่านี้ก็จะทำงานอัตโนมัติ

## ภาษามาร์กอัพสมัยปัจจุบัน

แท็ก `<script>` ในปัจจุบันหาพบได้ยากแล้ว โดยมากจะพบในโค้ดที่เขียนมานานมากแล้ว

attribute `type`: <code>&lt;script <u>type</u>=...&gt;</code>
: มาตรฐาน HTML เก่าตั้งแต่เวอร์ชั่น 4 ลงมา จำเป็นต้องมีการระบุ `type` ภายในแท็ก `script` ด้วยเช่น `type="text/javascript"` แต่ไม่จำเป็นแล้วในปัจจุบัน ทั้งตามมาตรฐานปัจจุบันยังเปลี่ยนความหมาย attribute `type` ไปโดยสิ้นเชิง โดยใช้เพื่อระบุโมดูลจาวาสคริปต์แทน แต่เรื่องโมดูลเป็นเรื่อง advanced เราจะมาพูดถึงโมดูลนี้อีกทีในภายหลัง

attribute `language`: <code>&lt;script <u>language</u>=...&gt;</code>
: คุณลักษณะดังกล่าวมีไว้เพื่อแสดงให้เบราเซอร์ดูว่าภาษาสคริปต์ที่เขียนคือภาษาอะไร แต่ในปัจจุบันไม่จำเป็นต้องระบุแล้ว เพราะจาวาสคริปต์เป็นภาษาเริ่มต้นเสมอ

คอมเม้นก่อนหรือหลังแท็กสคริปต์
: ในหนังสือคู่มือที่เก่าแก่เราอาาจจะเจอการคอมเม้นแบบข้างล่าง

  ```html no-beautify
  <script type="text/javascript"><!--
      ...
  //--></script>
  ```

ในโมเดิร์นจาวาสคริปต์ (ตั้งแต่ ES6 ขึ้นไป) เราเลิกใช้การคอมเม้นแบบนี้ไปแล้ว แต่จะพบได้ในโค้ดเก่าๆ เพราะเบราเซอร์ในสมัยนั้นไม่ทราบวิธีการประมวลแท็ก `script` รวมถึงสิ่งที่อยู่ภายในแท็กนี้

## สคริปต์ภายนอก

เราเขียนจาวาสคริปต์ออกมาเป็นไฟล์สกุล `.js` แยกออกมาจากไฟล์ `HTML`

เราสามารถแนบสคริปต์ไฟล์นั้นได้ด้วยคุณลักษณะประเภท `src`

```html
<script src="/path/to/script.js"></script>
```

ดังตัวอย่าง `/path/to/script.js` โดยจะใช้ absolute path หรือ relative path ก็ได้ โดย path จะเป็นไปตามที่อยู่ของไฟล์ HTML ตัวอย่างเช่น, `src="script.js"` หมายความว่าไฟล์ `"script.js"` อยู่ในโฟลเดอร์เดียวกันกับไฟล์ `HTML`

หรือจะใช้เป็น URL ก็ได้ดังตัวอย่างด้านล่าง

```html
<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.11/lodash.js"></script>
```

แนบสคริปต์แบบหลายไฟล์ดังตัวอย่างด้านล่าง

```html
<script src="/js/script1.js"></script>
<script src="/js/script2.js"></script>
…
```

```smart
เรามักจะใส่สคริปต์ที่ทำงานง่ายๆลงในไฟล์ HTML ส่วนสคริปต์ที่ซับซ้อนกว่านั้น จะแยกเป็นอีกไฟล์หนึ่งตะหาก

ประโยชน์อย่างหนึ่งของการแยกไฟล์ก็คือ เบราเซอร์จะดาวน์โหลดและเก็บไฟล์นั้นเอาไว้ หรือที่เรียกว่า[แคช](https://en.wikipedia.org/wiki/Web_cache)

ในหน้าอื่นๆหากมีการอ้างถึงไฟล์ที่มีที่อยู่เดียวกัน เบราเซอร์จะเอาสคริปต์นั้นมาจากแคชแทน ดังนั้นไฟล์สคริปต์เหล่านี้จะดาวน์โหลดเพียงครั้งเดียว

มันช่วยลดระยะการเดินทางของข้อมูล ซึ่งทำให้หน้าเว็บโหลดเร็วยิ่งขึ้น
```

มีสิ่งที่ต้องเตือนกันเล็กน้อย ถ้าในแท็ก `script` มีการระบุค่าไว้แล้วของ `src` ไว้แล้ว สคริปต์ที่อยู่ภายใต้แท็ก `script` จะไม่ทำงาน
ฉะนั้นแท็ก `<script>` จึงไม่ควรมี `src` และสคริปต์อยู่ด้วยกัน

ดังตัวอย่างข้างล่าง

```html
<script *!*src*/!*="file.js">
  alert(1); // the content is ignored, because src is set
</script>
```

เราต้องตัดสินใจเองว่าจะเลือกแบบสคริปต์ภายนอก `<script src="…">` หรือแบบปกติ `<script>`

ดังตัวอย่างข้างล่างที่ใช้แท็ก `script` สองตัว ตัวแรกเพื่อเรียกไฟล์จากภายนอก และอีกตัวเป็นแบบปกติ

```html
<script src="file.js"></script>
<script>
  alert(1);
</script>
```

## สรุป

- เราสามารถใช้แท็ก `<script>` เพื่อเขียนจาวาสคริปต์ลงไปในหน้าเว็บได้
- คุณลักษณะประเภท `type` และ `language` ปัจจุบันเลิกใช้ไปแล้ว
- สามารถแนบจาวาสคริปต์ที่เป็นไฟล์แยกได้ด้วย `<script src="path/to/script.js"></script>`

ยังมีเรื่องที่ต้องเรียนรู้อีกมากเกี่ยวกับจาวาสคริปต์มีปฎิสัมพันธ์ต่อหน้าเว็บอย่างไร แต่อย่าลืมว่าจาวาสคริปต์นั้นสามารถทำงานได้หลากหลาย ไม่ใช่เฉพาะบนเบราเซอร์อย่างเดียว แต่เราจะใช้เบราเซอร์ในทางที่ช่วยให้สคริปต์ทำงานได้สะดวกยิ่งขึ้น

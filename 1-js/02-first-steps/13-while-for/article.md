# ลูป: while และ for

เราต้องทำซ้ำการกระทำบางอย่างบ่อยๆ 

ตัวอย่างเช่น แสดงผลสินค้าจากรายการทีละชิ้น หรืออาจเป็นแค่การรันโค้ดเดิมซ้ำๆ สำหรับทุกตัวเลขตั้งแต่ 1 ถึง 10

*ลูป* คือวิธีการทำให้โค้ดทำงานซ้ำหลายรอบ

```smart header="ลูป for..of และ for..in"
ข้อความสำหรับผู้อ่านระดับสูงเล็กน้อย

บทความนี้จะกล่าวถึงเฉพาะลูปพื้นฐาน ได้แก่ `while`, `do..while` และ `for(..;..;..)`

หากคุณมาที่บทความนี้เพื่อหาข้อมูลเกี่ยวกับลูปประเภทอื่นๆ สามารถดูได้จาก:

- [for..in](info:object#forin) สำหรับการวนลูปเพื่อเข้าถึงพร็อพเพอร์ตี้ของออบเจ็กต์
- [for..of](info:array#loops) และ [iterable](info:iterable) สำหรับการวนลูปอาร์เรย์และออบเจ็กต์ที่สามารถวนซ้ำได้ (iterable objects)

หากไม่ใช่ กรุณาอ่านต่อไปได้เลยครับ
```

## ลูป "while"

ลูป `while` มีไวยากรณ์ดังนี้:

```js
while (condition) {
  // โค้ด
  // เรียกว่า "loop body"
}
```

ตราบใดที่ `condition` เป็นจริง `code` ใน loop body จะถูกประมวลผล

ยกตัวอย่างเช่น ลูปด้านล่างจะแสดงค่า `i` ตราบเท่าที่ `i < 3`:

```js run
let i = 0;
while (i < 3) { // แสดง 0, แล้ว 1, แล้ว 2
  alert( i );
  i++;
}
```

การประมวลผล loop body หนึ่งรอบเรียกว่า *การวนซ้ำ (iteration)* ลูปในตัวอย่างข้างต้นทำการวนซ้ำสามรอบ

หากไม่มีคำสั่ง `i++` ในตัวอย่างข้างต้น ลูปจะทำซ้ำ (ในทางทฤษฎี) ไปเรื่อยๆ ในทางปฏิบัติ เบราว์เซอร์จะมีวิธีหยุดลูปเช่นนี้ และใน JavaScript ฝั่งเซิร์ฟเวอร์ เราสามารถยุติกระบวนการได้

เงื่อนไขลูปสามารถเป็นนิพจน์หรือตัวแปรใดๆ ก็ได้ ไม่จำเป็นต้องเป็นการเปรียบเทียบเท่านั้น: `while` จะประเมินเงื่อนไขและแปลงเป็นบูลีน

ตัวอย่างเช่น วิธีที่สั้นกว่าในการเขียน `while (i != 0)` คือ `while (i)`:

```js run
let i = 3;
*!*
while (i) { // เมื่อ i เป็น 0, เงื่อนไขจะเป็นเท็จ และลูปจะหยุด
*/!*
  alert( i );
  i--;
}
```

````smart header="ไม่จำเป็นต้องใช้วงเล็บปีกกาสำหรับ loop body ที่มีคำสั่งเดียว"
หาก loop body มีเพียงคำสั่งเดียว เราสามารถละวงเล็บปีกกา `{…}` ได้:

```js run
let i = 3;
*!*
while (i) alert(i--);
*/!*
````

## ลูป "do..while"

เราสามารถย้ายการตรวจสอบเงื่อนไขไปอยู่*ด้านล่าง*ของ loop body ได้ด้วยการใช้ไวยากรณ์ `do..while`:

```js
do {
  // loop body
} while (condition);
```

ลูปจะทำการประมวลผล body ก่อน จากนั้นจึงตรวจสอบเงื่อนไข และหากเงื่อนไขเป็นจริง ก็จะประมวลผลซ้ำไปเรื่อยๆ

ตัวอย่างเช่น:

```js run
let i = 0;
do {
  alert( i );
  i++;
} while (i < 3);
```

ไวยากรณ์ในรูปแบบนี้ควรใช้เฉพาะเมื่อต้องการให้ body ของลูปทำงาน**อย่างน้อยหนึ่งครั้ง** โดยไม่คำนึงว่าเงื่อนไขจะเป็นจริงหรือไม่ โดยทั่วไปแล้วมักจะนิยมใช้รูปแบบอื่นมากกว่า เช่น `while(…) {…}`

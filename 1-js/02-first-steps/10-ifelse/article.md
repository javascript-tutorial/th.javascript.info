## การเลือกเส้นทาง: if กับ ?

บางครั้งเราต้องทำสิ่งที่แตกต่างกัน ขึ้นอยู่กับเงื่อนไขที่แตกต่างกัน

ในการทำเช่นนั้น เราสามารถใช้คำสั่ง `if` และตัวดำเนินการเงื่อนไข `?` ที่เรียกว่า "ตัวดำเนินการเครื่องหมายคำถาม"

## คำสั่ง "if"

คำสั่ง `if(...)` ประเมินเงื่อนไขในวงเล็บ และถ้าผลลัพธ์เป็น `true` โค้ดบล็อกจะทำงาน

ตัวอย่างเช่น:

```js run
let year = prompt('In which year was ECMAScript-2015 specification published?', '');

*!*
if (year == 2015) alert( 'You are right!' );
*/!*
```

ในตัวอย่างข้างต้น เงื่อนไขเป็นการตรวจสอบความเท่าเทียมแบบง่าย (`year == 2015`) แต่สามารถซับซ้อนกว่านั้นได้มาก

ถ้าเราต้องการรันมากกว่าหนึ่งคำสั่ง เราต้องใส่โค้ดบล็อกของเราไว้ในวงเล็บปีกกา:

```js
if (year == 2015) {
  alert( "That's correct!" );
  alert( "You're so smart!" );
}
```

เราแนะนำให้คุณใส่โค้ดบล็อกของคุณด้วยวงเล็บปีกกา `{}` ทุกครั้งที่ใช้คำสั่ง `if` แม้ว่าจะมีเพียงคำสั่งเดียวที่จะรัน การทำเช่นนี้จะช่วยให้อ่านง่ายขึ้น

## แปลงเป็นบูลีน

คำสั่ง `if (…)` ประเมินนิพจน์ในวงเล็บและแปลงผลลัพธ์เป็นค่าบูลีน

ให้ทบทวนกฎการแปลงจากบทเรียน <info:type-conversions>:

- ตัวเลข `0`, สตริงว่าง `""`, `null`, `undefined`, และ `NaN` ทั้งหมดจะกลายเป็น `false` ดังนั้นจึงเรียกว่าค่า "falsy"
- ค่าอื่นๆ จะกลายเป็น `true` ดังนั้นจึงเรียกว่า "truthy"

ดังนั้นโค้ดภายใต้เงื่อนไขนี้จะไม่ทำงาน:

```js
if (0) { // 0 เป็น falsy
  ...
}
```

...และภายในเงื่อนไขนี้ -- มันจะทำงานเสมอ:

```js
if (1) { // 1 เป็น truthy
  ...
}
```

เราสามารถส่งค่าบูลีนที่ประเมินไว้ล่วงหน้าไปยัง `if` ได้เช่นนี้:

```js
let cond = (year == 2015); // ความเท่าเทียมประเมินเป็น true หรือ false

if (cond) {
  ...
}
```

##  บล็อก "else"

คำสั่ง `if` อาจประกอบด้วยบล็อก `else` เสริม ซึ่งจะทำงานเมื่อเงื่อนไขเป็น `false`

ตัวอย่างเช่น:
```js run
let year = prompt('In which year was the ECMAScript-2015 specification published?', '');

if (year == 2015) {
  alert( 'You guessed it right!' );
} else {
  alert( 'How can you be so wrong?' ); // any value except 2015
}
```

## หลายเงื่อนไข: "else if"

บางครั้ง เราต้องการตรวจสอบหลายกรณีของเงื่อนไข คำสั่ง `else if` ช่วยให้เราทำสิ่งนั้นได้

ตัวอย่างเช่น:

```js run
let year = prompt('In which year was the ECMAScript-2015 specification published?', '');

if (year < 2015) {
  alert( 'Too early...' );
} else if (year > 2015) {
  alert( 'Too late' );
} else {
  alert( 'Exactly!' );
}
```

ในโค้ดด้านบน JavaScript ตรวจสอบ `year < 2015` ก่อน ถ้าเป็น `false` จะไปยังเงื่อนไขถัดไป `year > 2015` ถ้าเป็น `false` เช่นกัน จะแสดง `alert` สุดท้าย

สามารถมีบล็อก `else if` เพิ่มเติมได้ `else` สุดท้ายเป็นตัวเลือก

## ตัวดำเนินการเงื่อนไข '?'

บางครั้งเราจำเป็นต้องกำหนดตัวแปรตามเงื่อนไข

ตัวอย่างเช่น:

```js run no-beautify
let accessAllowed;
let age = prompt('How old are you?', '');

*!*
if (age > 18) {
  accessAllowed = true;
} else {
  accessAllowed = false;
}
*/!*

alert(accessAllowed);
```

ตัวดำเนินการ "เงื่อนไข" หรือ "เครื่องหมายคำถาม" ช่วยให้เราทำสิ่งนั้นได้ง่ายขึ้นและสั้นลง

ตัวดำเนินการนี้แสดงโดยเครื่องหมายคำถาม `?` บางครั้งเรียกว่า "ternary" เพราะตัวดำเนินการมีตัวดำเนินการสามตัว ในความเป็นจริงมันเป็นตัวดำเนินการเพียงตัวเดียวใน JavaScript ที่มีตัวดำเนินการจำนวนขนาดนี้

ไวยากรณ์คือ:
```js
let result = condition ? value1 : value2;
```

`condition` ถูกประเมิน: ถ้าเป็น `truthy` แล้ว `value1` จะถูกส่งคืน มิฉะนั้น -- `value2`

ตัวอย่างเช่น:

```js
let accessAllowed = (age > 18) ? true : false;
```

ทางเทคนิค เราสามารถละเว้นวงเล็บรอบ `age > 18` ตัวดำเนินการเครื่องหมายคำถามมีความสำคัญต่ำ ดังนั้นจึงทำงานหลังจากการเปรียบเทียบ `>`.

ตัวอย่างนี้จะทำสิ่งเดียวกันกับตัวอย่างก่อนหน้า:

```js
// ตัวดำเนินการเปรียบเทียบ "age > 18" จะทำงานก่อนอยู่แล้ว
// (ไม่จำเป็นต้องใส่ในวงเล็บ)
let accessAllowed = age > 18 ? true : false;
```

แต่เครื่องหมายวงเล็บ ทำให้โค้ดอ่านง่ายขึ้น ดังนั้นเราขอแนะนำให้ใช้มัน

````smart
ในตัวอย่างข้างต้น คุณสามารถหลีกเลี่ยงการใช้ตัวดำเนินการเครื่องหมายคำถาม เพราะการเปรียบเทียบเองจะส่งคืน `true/false`:

```js
// เหมือนกัน
let accessAllowed = age > 18;
```
````

## เครื่องหมายคำถามซ้อน

หลายเครื่องหมายคำถาม `?` สามารถส่งคืนค่าที่ขึ้นอยู่กับเงื่อนไขมากกว่าหนึ่งเงื่อนไข

ยกตัวอย่าง:

```js run
let age = prompt('อายุ?', 18);

let message = (age < 3) ? 'สวัสดีจ้า เด็กน้อย!' :
  (age < 18) ? 'สวัสดีค่ะ/ครับ!' :
  (age < 100) ? 'ยินดีต้อนรับ!' :
  'อายุแปลกจังเลย!';

alert( message );
```

โค้ดข้างบนอาจจะเข้าใจยากว่าเกิดอะไรขึ้น แต่หลังจากดูไปทีละส่วน เราจะเห็นว่ามันเป็นเพียงลำดับการทดสอบธรรมดา:

1. เครื่องหมายคำถามแรกตรวจสอบว่า `age < 3`
2. ถ้าจริง - จะส่งคืน `'สวัสดีจ้า เด็กน้อย!'` มิฉะนั้น - จะดำเนินการต่อกับนิพจน์หลังเครื่องหมายจุลภาค ":", ตรวจสอบ `age < 18`
3. ถ้าจริง - จะส่งคืน `'สวัสดีค่ะ/ครับ!'` มิฉะนั้น - จะดำเนินการต่อกับนิพจน์หลังเครื่องหมายจุลภาคถัดไป ":", ตรวจสอบ `age < 100`
4. ถ้าจริง - จะส่งคืน `'ยินดีต้อนรับ!'` มิฉะนั้น - จะดำเนินการต่อกับนิพจน์หลังเครื่องหมายจุลภาคสุดท้าย ":", ส่งคืน `'อายุแปลกจังเลย!'`

นี่คือลักษณะการใช้ `if..else`:

```js
if (age < 3) {
  message = 'สวัสดีจ้า เด็กน้อย!';
} else if (age < 18) {
  message = 'สวัสดีค่ะ/ครับ!';
} else if (age < 100) {
  message = 'ยินดีต้อนรับ!';
} else {
  message = 'อายุแปลกจังเลย!';
}
```

## การใช้เครื่องหมายคำถามแบบไม่ธรรมดา

บางครั้ง เครื่องหมายคำถาม `?` ถูกใช้แทน `if`:

```js run no-beautify
let company = prompt('Which company created JavaScript?', '');

*!*
(company == 'Netscape') ?
   alert('Right!') : alert('Wrong.');
*/!*
```

ขึ้นอยู่กับเงื่อนไข `company == 'Netscape'` นิพจน์แรกหรือที่สองหลัง `?` จะถูกดำเนินการและแสดงการแจ้งเตือน

เราไม่ได้กำหนดผลลัพธ์ให้กับตัวแปรที่นี่ แต่เราจะรันโค้ดที่แตกต่างกันขึ้นอยู่กับเงื่อนไข

**ไม่แนะนำให้ใช้ตัวดำเนินการเครื่องหมายคำถามในลักษณะนี้**

สัญลักษณ์นี้สั้นกว่าคำสั่ง `if` ที่เทียบเท่ากัน ซึ่งดึงดูดโปรแกรมเมอร์บางคน แต่ก็อ่านยากกว่า

นี่คือโค้ดเดียวกันโดยใช้ `if` เพื่อเปรียบเทียบ:

```js run no-beautify
let company = prompt('บริษัทไหนสร้าง JavaScript?', '');

*!*
if (company == 'Netscape') {
  alert('ถูกต้อง!');
} else {
  alert('ผิด.');
}
*/!*
```

สายตาของเราสแกนโค้ดแบบแนวตั้ง บล็อกโค้ดที่ครอบคลุมหลายบรรทัดนั้นเข้าใจง่ายกว่าชุดคำสั่งแนวนอนยาวๆ

วัตถุประสงค์ของตัวดำเนินการเครื่องหมายคำถาม `?` คือการส่งคืนค่าหนึ่งหรืออีกค่าหนึ่งขึ้นอยู่กับเงื่อนไข โปรดใช้มันเพื่อจุดประสงค์นั้น ใช้ `if` เมื่อคุณต้องการรันโค้ดในเงื่อนไขที่แตกต่างกัน

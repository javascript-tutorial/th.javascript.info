# การเรียนรู้เบื้องต้นเกี่ยวกับภาษา JavaScript

มาดูว่ามีอะไรที่พิเศษกับภาษา JavaScript บ้าง และเราสามารถทำอะไรได้ด้วยภาษา JavaScript บ้าง รวมถึงเทคโนโลยีอื่นๆที่เข้ากันได้ดีกับ JavaScript อีกด้วย

## JavaScript คืออะไร?

เริ่มต้นด้วยการสร้าง JavaScript เพื่อ "ทำให้หน้าเว็บมีชีวิตชีวา"

โปรแกรมในภาษานี้เรียกว่า *สคริปต์ (scripts)* โดยสามารถเขียนได้โดยตรงใน HTML ของหน้าเว็บและจะถูกเรียกใช้โดยอัตโนมัติเมื่อหน้าเว็บโหลด

สคริปต์จะถูกให้และดำเนินการโดยใช้ข้อความธรรมดา ไม่จำเป็นต้องเตรียมการหรือคอมไพล์เพื่อให้ทำงานได้

ในด้านนี้ JavaScript แตกต่างอย่างมากจากภาษาอื่นๆ เช่น  [Java](https://th.wikipedia.org/wiki/ภาษาจาวา)

```smart header="ทำไมถึงเรียกว่า <u>Java</u>Script?"
เมื่อสร้าง JavaScript ขึ้นมาในตอนแรก มีชื่อเรียกอื่น ๆ ที่เรียกว่า "LiveScript" แต่เนื่องจากภาษา Java ได้รับความนิยมอย่างมากในสมัยนั้น จึงตัดสินใจที่จะตั้งชื่อภาษาใหม่เป็น "น้องของภาษา Java" เพื่อช่วยให้มีความนิยมมากขึ้น

แต่เมื่อ JavaScript พัฒนาต่อไป มันกลายเป็นภาษาอิสระอย่างสมบูรณ์ที่มีข้อกำหนดของตัวเองที่เรียกว่า [ECMAScript](https://th.wikipedia.org/wiki/อีซีเอ็มเอสคริปต์) และตอนนี้มันไม่มีความเกี่ยวข้องกับภาษา Java อีกต่อไป
```

ในปัจจุบัน JavaScript สามารถทำงานได้ไม่เพียงแค่ในเบราว์เซอร์ แต่ยังสามารถทำงานบนเซิร์ฟเวอร์หรืออุปกรณ์อื่น ๆ ที่มีโปรแกรมพิเศษที่เรียกว่า [the JavaScript engine](https://en.wikipedia.org/wiki/JavaScript_engine)

เบราว์เซอร์มีเครื่องมือที่ฝังอยู่ภายในบางครั้งเรียกว่า "เครื่องจำลอง JavaScript (JavaScript virtual machine)"

เครื่องมือที่แตกต่างกันจะมี "ชื่อรหัส" ที่แตกต่างกันออกไป เช่น:

- [V8](https://en.wikipedia.org/wiki/V8_(JavaScript_engine)) -- ใน Chrome, Opera และ Edge
- [SpiderMonkey](https://en.wikipedia.org/wiki/SpiderMonkey) -- ใน Firefox
- ... ยังมีรหัสชื่ออื่น ๆ เช่น "Chakra" สำหรับ IE, "JavaScriptCore", "Nitro" และ "SquirrelFish" สำหรับ Safari เป็นต้น

คำศัพท์เหล่านี้เป็นสิ่งที่ควรจำไว้ เนื่องจากถูกใช้ในบทความของนักพัฒนาบนอินเทอร์เน็ต และเราก็จะใช้เหมือนกัน ตัวอย่างเช่นหาก "คุณลักษณะ X ได้รับการสนับสนุนโดย V8" จะหมายความว่ามันพร้อมทำงานใน Chrome, Opera และ Edge อาจใช้งานได้

```smart header="เครื่องมือทำงานอย่างไร"

เครื่องมือนั้นมีขั้นตอนที่ซับซ้อน แต่พื้นฐานนั้นไม่ยากเลย

1. เครื่องมือ (ถ้าเป็นเบราว์เซอร์จะอยู่ในตัวซึ่งฝังอยู่) อ่านและแยกวิเคราะห์ ("parse") สคริปต์
2. จากนั้นแปลงสคริปต์เป็น ("compile") รหัสเครื่อง
3. แล้วรหัสเครื่องจะทำงานอย่างรวดเร็ว

เครื่องมือพิมพ์นี้มีการปรับปรุงเทคนิคต่าง ๆ ในแต่ละขั้นตอนของกระบวนการ มันยังสังเกตรหัสเครื่องที่ถูกแปลงไว้เมื่อมันทำงาน วิเคราะห์ข้อมูลที่ไหลผ่านไปในรหัสเครื่อง และปรับปรุงรหัสเครื่องอย่างเหมาะสมตามความรู้นั้น ๆ
```

## JavaScript ที่ทำงานในเบราว์เซอร์สามารถทำอะไรได้บ้าง?

JavaScript เวอร์ชันปัจจุบันเป็นภาษาโปรแกรมที่ "ปลอดภัย" มันไม่ได้ให้การเข้าถึงหน่วยความจำหรือ CPU ระดับต่ำเนื่องจากว่าเคยถูกสร้างขึ้นสำหรับเบราว์เซอร์ที่ไม่จำเป็นต้องการคุณลักษณะนี้

ความสามารถของ JavaScript นั้นจะขึ้นอยู่กับสภาพแวดล้อมที่มันกำลังทำงานอยู่ ตัวอย่างเช่น [Node.js](https://wikipedia.org/wiki/Node.js)  รองรับฟังก์ชันที่อนุญาตให้ JavaScript อ่าน/เขียนไฟล์อื่น ๆ ส่งคำขอเครือข่ายไปยังเซิร์ฟเวอร์ ฯลฯ

JavaScript ที่ทำงานในเบราว์เซอร์สามารถทำได้ทุกอย่างที่เกี่ยวข้องกับการจัดการหน้าเว็บไซต์ การติดต่อกับผู้ใช้ และเว็บเซิร์ฟเวอร์

ตัวอย่างเช่น JavaScript ในเบราว์เซอร์สามารถ:

- เพิ่ม HTML ใหม่เข้าไปในหน้าเว็บไซต์ เปลี่ยนเนื้อหาที่มีอยู่และเปลี่ยนรูปแบบ
- ตอบสนองต่อการกระทำของผู้ใช้ เช่น การคลิกเมาส์ การเลื่อนเมาส์ การกดปุ่ม
- ส่งคำขอไปยังเซิร์ฟเวอร์ระยะไกล เพื่อดาวน์โหลดและอัปโหลดไฟล์ (เทคโนโลยีที่เรียกว่า [AJAX](https://th.wikipedia.org/wiki/เอแจ็กซ์) และ [COMET](https://en.wikipedia.org/wiki/Comet_(programming)))
- รับและกำหนดคุกกี้ สอบถามคำถามกับผู้เข้าชมและแสดงข้อความ
- จำข้อมูลไว้ในเครื่องของผู้ใช้ (การจัดเก็บข้อมูลฝั่งไคลเอ็นต์)

## JavaScript ที่ทำงานในเบราว์เซอร์ไม่สามารถทำสิ่งต่อไปนี้ได้:

ความสามารถของ JavaScript ในเบราว์เซอร์ถูกจำกัดเพื่อปกป้องความปลอดภัยของผู้ใช้ จุดมุ่งหมายคือป้องกันเว็บเพจที่ไม่ดีจากการเข้าถึงข้อมูลส่วนตัวหรือทำความเสียหายกับข้อมูลของผู้ใช้

ตัวอย่างของการจำกัดเช่น:

- JavaScript ในหน้าเว็บไซต์ไม่สามารถอ่าน/เขียนไฟล์บนฮาร์ดดิสก์ คัดลอกไฟล์หรือเรียกใช้โปรแกรมได้โดยตรง เนื่องจากไม่มีการเข้าถึงฟังก์ชั่นของระบบปฏิบัติการโดยตรง

  เบราว์เซอร์รุ่นใหม่อนุญาตให้ JavaScript ทำงานกับไฟล์ได้ แต่การเข้าถึงถูกจำกัดเพื่อป้องกันการเข้าถึงไม่ได้รับอนุญาต และจะมีการให้สิทธิพิเศษเฉพาะกรณีที่ผู้ใช้ดำเนินการบางอย่าง เช่น "ลาก" ไฟล์ลงในหน้าต่างเบราว์เซอร์หรือเลือกไฟล์ผ่านแท็ก `<input>`

  การทำงานร่วมกับกล้อง/ไมค์และอุปกรณ์อื่นๆ ต้องได้รับอนุญาตจากผู้ใช้โดยตรง ดังนั้นหน้าเว็บไซต์ที่เปิดใช้งาน JavaScript ไม่สามารถเปิดกล้องเว็บแบบลับๆ และดูสิ่งแวดล้อมได้เพื่อส่งข้อมูลให้กับ [NSA](https://en.wikipedia.org/wiki/National_Security_Agency) ได้
- แท็บ/หน้าต่างที่เปิดชึ้นมาแต่ละอันจะไม่รู้กัน แต่ในบางกรณี ทั้งสองหน้าต่างรู้จักกัน เช่นเมื่อหน้าต่างหนึ่งใช้ JavaScript เพื่อเปิดอีกหน้าต่างหนึ่ง แต่ในกรณีนี้ JavaScript จากหน้าเว็บไซต์หนึ่งไม่สามารถเข้าถึงหน้าเว็บไซต์อื่นได้หากหน้าเว็บไซต์เหล่านั้นมาจากไซต์ต่างกัน (มาจากโดเมนที่แตกต่างกัน โปรโตคอลที่แตกต่างกัน หรือพอร์ตที่แตกต่างกัน)

  นี้เป็นที่เรียกว่า "Same Origin Policy" หรือนโยบายของเว็บเบราว์เซอร์เพื่อปกป้องผู้ใช้ ในการทำงานร่วมกัน หน้าเว็บไซต์ทั้งสองต้องตกลงกันในการแลกเปลี่ยนข้อมูล และต้องมีโค้ด JavaScript พิเศษเพื่อจัดการดังกล่าว เราจะอธิบายรายละเอียดในบทสอน

  ข้อจำกัดนี้เป็นเพื่อความปลอดภัยของผู้ใช้ หน้าเว็บไซต์จาก `http://anysite.com` ที่ผู้ใช้เปิดอยู่ต้องไม่สามารถเข้าถึงแท็บเบราว์เซอร์อื่น ๆ ที่มี URL เป็น `http://gmail.com` และขโมยข้อมูลจากเว็บที่เปิดอยู่ในแท็ปไปมาได้
- JavaScript สามารถสื่อสารผ่านเครือข่ายได้อย่างง่ายดายกับเซิร์ฟเวอร์ที่หน้าเว็บปัจจุบันมาจาก แต่ความสามารถของ JavaScript ในการรับข้อมูลจากโดเมน/ไซต์อื่น ๆ ถูกจำกัดไว้ อาจจะเป็นไปได้ แต่จำเป็นต้องมีความตกลงชัดเจน (ที่แสดงใน HTTP headers) จากฝั่งระยะไกล อีกครั้งนี้ก็เป็นข้อจำกัดเพื่อความปลอดภัย

![](limitations.svg)

ข้อจำกัดดังกล่าวไม่มีอยู่หาก JavaScript ถูกใช้นอกเว็บเบราว์เซอร์ เช่น บนเซิร์ฟเวอร์ นอกจากนี้ เบราว์เซอร์ที่มีความทันสมัยยังอนุญาตให้ใช้ปลั๊กอิน/ส่วนขยายซึ่งอาจขอสิทธิ์เพิ่มเติมได้

## ที่ทำให้ JavaScript โดดเด่นและเป็นเอกลักษณ์คือสิ่งใด?

นี่คืออย่างน้อย สาม สิ่งที่ยอดเยี่ยมของ JavaScript:

```compare
+ การผสมผสานอย่างเต็มรูปแบบกับ HTML/CSS
+ การทำสิ่งที่เรียกว่า 'ง่าย' อย่างแท้จริงได้อย่างง่ายดาย
+ รองรับโดยเบราว์เซอร์ทุกตัวและเปิดใช้งานโดยค่าเริ่มต้น
```
JavaScript เป็นเทคโนโลยีบราวเซอร์เพียงหนึ่งเดียวที่ผสมผสานสามสิ่งดังกล่าวได้พร้อมกัน

นี่คือสิ่งที่ทำให้ JavaScript เป็นเอกลักษณ์และโดดเด่น เป็นเหตุผลที่มันเป็นเครื่องมือที่แพร่หลายที่สุดสำหรับการสร้างอินเตอร์เฟซของเบราว์เซอร์

อย่างไรก็ตาม JavaScript ก็สามารถใช้สร้างเซิร์ฟเวอร์, แอปพลิเคชันมือถือ เป็นต้นได้อีกด้วย

## ภาษาโปรแกรมอื่นๆที่สามารถแปลงเป็น JavaScript ได้

ไวยากรณ์ของภาษา JavaScript ไม่ใช่สิ่งที่ตรงตามความต้องการของทุกคน แต่ละคนมีความต้องการสไตล์การเขีนรและความสามารถของภาษาที่แตกต่างกันไป

นั่นเป็นสิ่งที่คาดหวังได้เนื่องจากโครงการและความต้องการของแต่ละคนไม่เหมือนกัน

ดังนั้น เร็วๆ นี้มีภาษาหลายๆตัวที่ถูกสร้างขึ้นมา และถูกแปลง (transpile) เป็นภาษา JavaScript ก่อนที่จะทำงานในเบราว์เซอร์

เครื่องมือสมัยใหม่ทำให้การแปลงภาษาเป็น JavaScript เร็วและโปร่งใสมากขึ้น จริงๆ แล้วผู้พัฒนาสามารถเขียนโปรแกรมด้วยภาษาอื่นแล้วแปลงโดยอัตโนมัติได้

ตัวอย่างของภาษาเหล่านี้:

- [CoffeeScript](https://coffeescript.org/) เป็น "syntactic sugar" สำหรับภาษา JavaScript โดยมีไวยากรณ์ที่สั้นลงเพื่อเขียนโค้ดอย่างชัดเจนและแม่นยำขึ้น โดยทั่วไปแล้วนักพัฒนาที่เขียน Ruby จะชื่นชอบ
- [TypeScript](https://www.typescriptlang.org/) มุ่งเน้นการเพิ่ม "strict data typing" เพื่อให้ง่ายต่อการพัฒนาและการดูแลระบบที่ซับซ้อน ซึ่งถูกพัฒนาโดย Microsoft
- [Flow](https://flow.org/) ก็เพิ่ม data typing แต่ด้วยวิธีที่แตกต่างกันกับ TypeScript ซึ่งถูกพัฒนาโดย Facebook
- [Dart](https://www.dartlang.org/) เป็นภาษาที่สามารถทำงานได้เองโดยมีเครื่องมือของตัวเองที่รันใน environment ที่ไม่ใช่ browser (เช่นแอปพลิเคชันมือถือ) แต่ยังสามารถแปลงเป็นภาษา JavaScript ได้ ซึ่งถูกพัฒนาโดย Google
- [Brython](https://brython.info/) เป็น Python transpiler ที่แปลง Python เป็น JavaScript ซึ่งช่วยให้เขียนแอปพลิเคชันด้วยภาษา Python เป็นไปได้โดยไม่ต้องใช้ JavaScript
- [Kotlin](https://kotlinlang.org/docs/reference/js-overview.html) เป็นภาษาโปรแกรมที่สมัยใหม่ กระชับ และปลอดภัย สามารถทำงานใน browser หรือ Node ได้

ยังมีภาษาอื่นๆอีกมากมาย แน่นอนว่าถึงแม้เราจะใช้ภาษาที่ถูกแปลงไปเป็น JavaScript แต่เรายังควรรู้จัก JavaScript จริงจังเพื่อเข้าใจและใช้งานได้อย่างมีประสิทธิภาพ

## สรุป

- เป็นภาษาที่สร้างขึ้นเพื่อใช้ใน browser เท่านั้น แต่ปัจจุบันมีการใช้งานใน environment อื่นๆอีกมากมาย
- ในปัจจุบัน JavaScript มีตำแหน่งเด่นเป็นภาษาบน browser ที่มีการนำมาใช้งานอย่างแพร่หลายและผสมผสานได้อย่างเต็มรูปแบบกับ HTML/CSS
- มีภาษาหลายภาษาที่ถูกแปลงไปเป็น JavaScript และให้คุณสมบัติเฉพาะต่างๆ แนะนำให้ลองกันสักนิดแต่หลังจากฝึก JavaScript จนชำนาญแล้วนะ

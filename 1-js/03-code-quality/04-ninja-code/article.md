# โค้ดนินจา

```quote author="ขงจื๊อ (วจนะ)"
เรียนรู้โดยไร้ความคิดคือเหนื่อยเปล่า ความคิดที่ว่างเปล่าจากการเรียนรู้นั้นเป็นภัย
```

โปรแกรมเมอร์นินจาในอดีตใช้กลเม็ดเหล่านี้เพื่อลับสมองของผู้ดูแลโค้ด

ผู้เชี่ยวชาญการรีวิวโค้ดมองหากลเม็ดเหล่านี้ในการทดสอบงาน

บางครั้งนักพัฒนามือใหม่ใช้กลเม็ดเหล่านี้ได้ดีกว่าโปรแกรมเมอร์นินจาเสียอีก

อ่านอย่างละเอียดแล้วลองดูว่าคุณเป็นใคร -- นินจา, มือใหม่, หรืออาจเป็นผู้รีวิวโค้ด?

```warn header="พบการเสียดสี"
หลายคนหมายมุ่งวิถีนินจา ทว่าน้อยนักสำเร็จลุล่วงดั่งใจปอง
```

## ความกระชับคือหัวใจของปัญญา

เขียนโค้ดให้สั้นที่สุดเท่าที่จะทำได้ เพื่อแสดงความฉลาดของคุณ

ให้คุณลักษณะภาษาที่ซับซ้อนเป็นตัวนำทาง

ยกตัวอย่างเช่น ลองดูตัวดำเนินการแบบ 3 ทาง (ternary) `'?'` นี้:

```js
// มาจากไลบรารี JavaScript ที่มีชื่อเสียง
i = i ? i < 0 ? Math.max(0, len + i) : i : 0;
```

เจ๋งใช่ไหม? ถ้าคุณเขียนแบบนี้ นักพัฒนาที่เจอบรรทัดนี้และพยายามทำความเข้าใจว่า `i` มีค่าเท่าไหร่ คงจะได้เพลิดเพลิน จากนั้นก็มาหาคุณเพื่อขอคำตอบ

บอกพวกเขาว่าสั้นกว่าดีกว่าเสมอ แนะนำพวกเขาสู่วิถีแห่งนินจา

```warn
ตัวอย่างโค้ดด้านบนแสดงการเขียนที่ซับซ้อนเกินความจำเป็นเพียงเพื่อให้โค้ดสั้นลง ซึ่งกลับทำให้โค้ดอ่านเข้าใจยากขึ้น
อย่างไรก็ตาม การเขียนโค้ดควรให้ความสำคัญกับความชัดเจนและอ่านง่ายมากกว่า โค้ดที่สั้นเกินไปอาจกลายเป็นปัญหาได้หากไม่ได้ช่วยเพิ่มความเข้าใจ
โดยทั่วไปแล้ว แนวปฏิบัติที่ดีคือพยายามเขียนโค้ดให้กระชับและเรียบง่ายที่สุดเท่าที่จะเป็นไปได้ โดยไม่เสียความชัดเจน
```

## ตัวแปรตัวอักษรเดียว

```quote author="เล่าจื๊อ (เต๋าเต๋อจิง)"
เต๋าแฝงเร้นในความไร้คำกล่าว เพียงเต๋าเท่านั้นที่เริ่มและจบลงได้ดี
```

อีกวิธีหนึ่งที่จะเขียนโค้ดให้สั้นลงคือการใช้ชื่อตัวแปรเพียงตัวอักษรเดียวทุกที่ เช่น `a`, `b` หรือ `c`

ตัวแปรที่สั้นจะหายไปในโค้ดเหมือนนินจาในป่า ไม่มีใครสามารถหาเจอได้ด้วยฟีเจอร์ "ค้นหา" ของเครื่องมือแก้ไขโค้ด และถึงแม้ใครจะเจอ พวกเขาก็คงไม่สามารถ "ถอดรหัส" ได้ว่า `a` หรือ `b` หมายถึงอะไร

...แต่มีข้อยกเว้น นินจาตัวจริงจะไม่มีวันใช้ `i` เป็นตัวนับในลูป `"for"` ยกเว้นตรงนี้ที่ไหนก็ได้ มองหารอบๆ ดู มีตัวอักษรแปลกๆ อีกมากมาย เช่น `x` หรือ `y`

ใช้ตัวแปรแปลกตาเป็นตัวนับลูปนี่เจ๋งสุดๆ โดยเฉพาะถ้าภายในลูปยาว 1-2 หน้า (ยิ่งยาวยิ่งดี) เพราะถ้ามีใครมาดูโค้ดข้างในลูป พวกเขาจะไม่สามารถเดาได้ในทันทีว่าตัวแปรชื่อ `x` คือตัวนับลูป

```warn
แม้ตัวอย่างข้างต้นจะเป็นที่นิยมในหมู่ "โปรแกรมเมอร์นินจา" แต่ไม่ใช่แนวปฏิบัติที่ดีสำหรับการเขียนโค้ดจริง
การตั้งชื่อตัวแปรสั้นเกินไปและไม่สื่อความหมาย จะทำให้โค้ดอ่านเข้าใจยาก โดยเฉพาะเวลาที่ต้องกลับมาอ่านทบทวนหรือส่งต่อให้คนอื่นอ่าน
สิ่งสำคัญคือต้องเลือกใช้ชื่อที่สื่อความหมายชัดเจน บอกได้ว่าตัวแปรนั้นมีหน้าที่อะไร เพื่อให้อ่านโค้ดเข้าใจง่ายและหลีกเลี่ยงความสับสน
ถึงแม้ชื่อจะยาวขึ้นหน่อย แต่ก็คุ้มค่าแลกกับความชัดเจนและความสะดวกในการดูแลรักษาโค้ดในระยะยาว
```

## ใช้คำย่อ

หากกฎของทีมห้ามใช้ชื่อที่เป็นตัวอักษรเดียวหรือคลุมเครือ -- ก็ให้ย่อมัน สร้างคำย่อขึ้นมา

แบบนี้:

- `list` -> `lst`
- `userAgent` -> `ua`
- `browser` -> `brsr` 
- ...ฯลฯ

มีเพียงคนที่มีสัญชาตญาณดีเยี่ยมเท่านั้นที่จะเข้าใจชื่อแบบนี้ได้ พยายามย่อทุกอย่าง มีแต่คนที่เหมาะสมเท่านั้นที่จะสามารถดูแลพัฒนาโค้ดของคุณต่อได้

```warn
ถึงแม้คำแนะนำข้างต้นอาจฟังดูเหมือนเทคนิคเจ๋งๆ แต่จริงๆ แล้วเป็นแนวทางที่ไม่ดีในการตั้งชื่อตัวแปรและฟังก์ชัน
การใช้คำย่ออย่างพร่ำเพรื่อจะทำให้โค้ดอ่านเข้าใจยากขึ้นสำหรับนักพัฒนาคนอื่นๆ
แทนที่จะใช้คำย่อคลุมเครือ ให้เลือกชื่อที่สมเหตุสมผล สื่อความหมาย และเขียนเต็มคำจะดีกว่า เช่น `userAgentString` แทน `ua`  
เป้าหมายควรเป็นการเขียนโค้ดที่ทุกคนในทีมเข้าใจได้ง่ายและชัดเจน ไม่ใช่ทำให้มันลึกลับเข้าใจยากโดยไม่จำเป็น
ความเรียบง่ายและชัดเจนควรมาก่อนความกระชับเสมอ การเลือกใช้ชื่อที่ดีจะเป็นประโยชน์อย่างมากในระยะยาวต่อการทำงานร่วมกันและการดูแลรักษาโค้ด  
```